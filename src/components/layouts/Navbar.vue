<template>
  <nav id="nav" ref="nav" class="fixed  text-white w-full px-8 sm:px-24 py-8 box-sizing z-50 transition-all duration-500" :class="{'dy-nav':  dyNav}">
      <div class="container   mx-auto flex justify-between items-center">


        <div class="hidden sm:flex flex-col sm:flex-row">
          <NavbarLink label="صفحه اصلی"  to="/" />
          <NavbarLink label="مقالات"  to="/articles" />
          <NavbarLink label="نمونه کار"  to="/cvs" />
          <NavbarLink label="ارتباط باما"  to="/contact-us" />
        </div>
        <div class="sm:hidden">
          <span class="px-1 flex cursor-pointer gradient__bg  rounded-lg outline-none" @click="toggle" >
                <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="">
                  <path d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z" stroke="rgb(195, 197, 203)" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
                  <path d="M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z" stroke="rgb(195, 197, 203)" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
                  <path d="M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z" stroke="rgb(195, 197, 203)" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
          </span>
          <div class="navbar_menu-toggle " v-if="active">
            <NavbarLink label="صفحه اصلی"  to="/" >
              <svg fill="rgb(195, 197, 203)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" width="18px" height="18px"><path d="M 70 18.074219 C 69.225 18.074219 68.450391 18.350391 67.900391 18.900391 L 14.099609 72.599609 C 12.899609 73.799609 12.899609 75.700781 14.099609 76.800781 L 22.599609 85.300781 C 23.199609 85.900781 23.899219 86.199219 24.699219 86.199219 C 25.499219 86.199219 26.300781 85.900781 26.800781 85.300781 L 70 42.199219 L 102 74.199219 L 102 114.5 C 99.1 115.5 96.899219 118 96.199219 121 L 84 121 L 84 80 C 84 78.3 82.7 77 81 77 L 59 77 C 57.3 77 56 78.3 56 80 L 56 121 L 38 121 L 38 94 C 38 92.3 36.7 91 35 91 C 33.3 91 32 92.3 32 94 L 32 101.40039 C 27.1 102.60039 23.300781 106.40078 22.300781 111.30078 C 17.400781 112.30078 13.500391 116.2 12.400391 121 L 4 121 C 2.3 121 1 122.3 1 124 C 1 125.7 2.3 127 4 127 L 99 127 C 100.7 127 102 125.7 102 124 L 102 123 C 102 121.3 103.3 120 105 120 C 106.7 120 108 121.3 108 123 L 108 124 C 108 125.7 109.3 127 111 127 L 114 127 C 115.7 127 117 125.7 117 124 C 117 122.3 115.7 121 114 121 L 113.80078 121 C 113.10078 118 110.9 115.5 108 114.5 L 108 80.199219 L 113.09961 85.300781 C 113.69961 85.900781 114.39922 86.199219 115.19922 86.199219 C 115.99922 86.199219 116.80078 85.900781 117.30078 85.300781 L 125.80078 76.800781 C 127.00078 75.600781 127.00078 73.699609 125.80078 72.599609 L 72.099609 18.900391 C 71.549609 18.350391 70.775 18.074219 70 18.074219 z M 70 25.300781 L 119.5 74.800781 L 115.30078 79 L 72.099609 35.900391 C 71.499609 35.300391 70.8 35 70 35 C 69.2 35 68.500391 35.300391 67.900391 35.900391 L 24.699219 79 L 20.5 74.800781 L 70 25.300781 z M 64 101 C 65.7 101 67 102.3 67 104 C 67 105.7 65.7 107 64 107 C 62.3 107 61 105.7 61 104 C 61 102.3 62.3 101 64 101 z M 32 107.69922 L 32 121 L 18.699219 121 C 19.799219 118.6 22.2 117 25 117 C 26.7 117 28 115.7 28 114 C 28 111.2 29.6 108.79922 32 107.69922 z M 124 121 A 3 3 0 0 0 121 124 A 3 3 0 0 0 124 127 A 3 3 0 0 0 127 124 A 3 3 0 0 0 124 121 z"/></svg>
            </NavbarLink>
            <NavbarLink label="مقالات"  to="/articles" >
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"  viewBox="0 0 26 26">
                <path d="M16.90625 1.96875C16.863281 1.976563 16.820313 1.988281 16.78125 2L1 2C0.96875 2 0.9375 2 0.90625 2C0.390625 2.046875 -0.00390625 2.480469 0 3L0 18.96875C0 21.332031 1.320313 22.789063 2.5625 23.40625C3.804688 24.023438 5 24 5 24L21 24C21 24 21.085938 24 21.09375 24C21.105469 24 21.113281 24 21.125 24C21.300781 24 22.300781 23.972656 23.4375 23.40625C24.625 22.8125 25.863281 21.449219 25.96875 19.28125C25.96875 19.261719 25.96875 19.238281 25.96875 19.21875C25.96875 19.195313 26 19.179688 26 19.15625C26.003906 19.105469 26.003906 19.050781 26 19C26 18.96875 26 18.9375 26 18.90625L26 8.03125C26 8.019531 26 8.011719 26 8C26 8 25.996094 7.296875 25.625 6.5625C25.289063 5.894531 24.476563 5.164063 23.34375 5.03125C23.234375 4.992188 23.117188 4.96875 23 4.96875L18 4.96875L18 3.1875C18.007813 3.125 18.007813 3.0625 18 3C18.003906 2.957031 18.003906 2.917969 18 2.875C18 2.855469 18 2.832031 18 2.8125C18 2.800781 18 2.792969 18 2.78125C17.992188 2.761719 17.980469 2.738281 17.96875 2.71875C17.96875 2.707031 17.96875 2.699219 17.96875 2.6875C17.960938 2.65625 17.949219 2.625 17.9375 2.59375C17.917969 2.5625 17.898438 2.53125 17.875 2.5C17.847656 2.445313 17.816406 2.394531 17.78125 2.34375C17.75 2.320313 17.71875 2.300781 17.6875 2.28125C17.648438 2.234375 17.609375 2.195313 17.5625 2.15625C17.550781 2.15625 17.542969 2.15625 17.53125 2.15625C17.425781 2.082031 17.3125 2.03125 17.1875 2C17.097656 1.976563 17 1.964844 16.90625 1.96875 Z M 2 4L16 4L16 5.75C15.972656 5.882813 15.972656 6.023438 16 6.15625L16 18.96875C16 20.25 16.40625 21.242188 16.96875 22L5 22C5 22 4.546875 22.003906 4 21.84375C3.816406 21.789063 3.625 21.71875 3.4375 21.625C2.679688 21.25 2 20.679688 2 18.96875 Z M 4 6C3.449219 6 3 6.449219 3 7L3 9C3 9.550781 3.449219 10 4 10L14 10C14.550781 10 15 9.550781 15 9L15 7C15 6.449219 14.550781 6 14 6 Z M 18 6.96875L20.1875 6.96875C20 7.515625 20 7.96875 20 7.96875C20 7.980469 20 7.988281 20 8L20 18C19.996094 18.359375 20.183594 18.695313 20.496094 18.878906C20.808594 19.058594 21.191406 19.058594 21.503906 18.878906C21.816406 18.695313 22.003906 18.359375 22 18L22 8C22.003906 7.972656 22.023438 7.726563 22.15625 7.46875C22.292969 7.199219 22.363281 7 23 7C23.628906 7 23.703125 7.191406 23.84375 7.46875C23.976563 7.734375 23.996094 8.003906 24 8.03125C24 8.03125 24 8.0625 24 8.0625L24 19C24 19.03125 24 19.0625 24 19.09375C23.972656 20.683594 23.308594 21.222656 22.5625 21.59375C21.800781 21.972656 21 22 21 22C21 22 20.199219 21.980469 19.4375 21.59375C18.675781 21.207031 18 20.644531 18 18.96875 Z M 3.71875 12C3.167969 12.078125 2.78125 12.589844 2.859375 13.140625C2.9375 13.691406 3.449219 14.078125 4 14L7 14C7.359375 14.003906 7.695313 13.816406 7.878906 13.503906C8.058594 13.191406 8.058594 12.808594 7.878906 12.496094C7.695313 12.183594 7.359375 11.996094 7 12L4 12C3.96875 12 3.9375 12 3.90625 12C3.875 12 3.84375 12 3.8125 12C3.78125 12 3.75 12 3.71875 12 Z M 9.71875 12C9.167969 12.078125 8.78125 12.589844 8.859375 13.140625C8.9375 13.691406 9.449219 14.078125 10 14L14 14C14.359375 14.003906 14.695313 13.816406 14.878906 13.503906C15.058594 13.191406 15.058594 12.808594 14.878906 12.496094C14.695313 12.183594 14.359375 11.996094 14 12L10 12C9.96875 12 9.9375 12 9.90625 12C9.875 12 9.84375 12 9.8125 12C9.78125 12 9.75 12 9.71875 12 Z M 3.71875 15C3.167969 15.078125 2.78125 15.589844 2.859375 16.140625C2.9375 16.691406 3.449219 17.078125 4 17L7 17C7.359375 17.003906 7.695313 16.816406 7.878906 16.503906C8.058594 16.191406 8.058594 15.808594 7.878906 15.496094C7.695313 15.183594 7.359375 14.996094 7 15L4 15C3.96875 15 3.9375 15 3.90625 15C3.875 15 3.84375 15 3.8125 15C3.78125 15 3.75 15 3.71875 15 Z M 9.71875 15C9.167969 15.078125 8.78125 15.589844 8.859375 16.140625C8.9375 16.691406 9.449219 17.078125 10 17L14 17C14.359375 17.003906 14.695313 16.816406 14.878906 16.503906C15.058594 16.191406 15.058594 15.808594 14.878906 15.496094C14.695313 15.183594 14.359375 14.996094 14 15L10 15C9.96875 15 9.9375 15 9.90625 15C9.875 15 9.84375 15 9.8125 15C9.78125 15 9.75 15 9.71875 15 Z M 4.21875 18C3.667969 18.078125 3.28125 18.589844 3.359375 19.140625C3.4375 19.691406 3.949219 20.078125 4.5 20L7 20C7.359375 20.003906 7.695313 19.816406 7.878906 19.503906C8.058594 19.191406 8.058594 18.808594 7.878906 18.496094C7.695313 18.183594 7.359375 17.996094 7 18L4.5 18C4.46875 18 4.4375 18 4.40625 18C4.375 18 4.34375 18 4.3125 18C4.28125 18 4.25 18 4.21875 18 Z M 9.71875 18C9.167969 18.078125 8.78125 18.589844 8.859375 19.140625C8.9375 19.691406 9.449219 20.078125 10 20L14 20C14.359375 20.003906 14.695313 19.816406 14.878906 19.503906C15.058594 19.191406 15.058594 18.808594 14.878906 18.496094C14.695313 18.183594 14.359375 17.996094 14 18L10 18C9.96875 18 9.9375 18 9.90625 18C9.875 18 9.84375 18 9.8125 18C9.78125 18 9.75 18 9.71875 18Z" fill="rgb(195, 197, 203)"/>
              </svg>
            </NavbarLink>
            <NavbarLink label="نمونه کار"  to="/cvs" >
                 <svg xmlns="http://www.w3.org/2000/svg" class="stroke" viewBox="0 0 15 15" width="18" height="18">
                     <g transform="matrix(1.0714285714285714,0,0,1.0714285714285714,0,0)"><g>
                        <path d="M7.47,6.9a1.18,1.18,0,0,1-.94,0L.83,4.26a.56.56,0,0,1,0-1L6.53.6a1.18,1.18,0,0,1,.94,0l5.7,2.64a.56.56,0,0,1,0,1Z" style="fill: none;stroke: rgb(195, 197, 203);stroke-linecap: round;stroke-linejoin: round"></path>
                        <path d="M13.5,7.35,7.4,10.16a1,1,0,0,1-.83,0L.5,7.35" style="fill: none;stroke: rgb(195, 197, 203);stroke-linecap: round;stroke-linejoin: round"></path>
                        <path d="M13.5,10.6,7.4,13.41a1,1,0,0,1-.83,0L.5,10.6" style="fill: none;stroke: rgb(195, 197, 203);stroke-linecap: round;stroke-linejoin: round"></path>
                     </g></g>
                  </svg>  
            </NavbarLink>
            <NavbarLink label="ارتباط باما"  to="/contact-us">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 75.824 75.825" >
                  <g id="Group_1" data-name="Group 1" transform="translate(-970 -556)">
                    <path id="Path_1" data-name="Path 1" d="M24.6,11.781l-4.748,4.748c-2.359,2.359-5.353,4.929-5.711,8.379a16.484,16.484,0,0,0,2.776,10.42c.219.267.422.516.583.725,2.844,3.685,5.882,7.222,9,10.683.173.189.35.379.518.566q1.746,1.929,3.524,3.829c.868.924,1.734,1.85,2.608,2.766l.44.458q1.973,2.061,3.975,4.1.988,1,1.987,1.995t2,1.987q2.034,2,4.1,3.975l.458.44c.916.874,1.842,1.741,2.766,2.608q1.9,1.778,3.829,3.524c.187.168.377.346.566.519,3.461,3.122,7,6.16,10.683,9,.209.161.458.364.725.583a16.486,16.486,0,0,0,10.42,2.776c3.449-.358,6.019-3.351,8.379-5.711L88.219,75.4a5.708,5.708,0,0,0,0-8.072l-8.537-8.537a5.708,5.708,0,0,0-8.072,0l-3.324,3.324a2.014,2.014,0,0,1-2.849,0l-.01-.01L37.895,34.574l-.01-.01a2.014,2.014,0,0,1,0-2.849l3.324-3.324a5.708,5.708,0,0,0,0-8.072l-8.537-8.537a5.708,5.708,0,0,0-8.073,0Z" transform="translate(955.933 545.891)" fill="#c3c5cb"/>
                  </g>
                </svg>
            </NavbarLink>
          </div>
        </div>
        <div id="icon">
        
        </div>
      
      </div>
  </nav >
</template>

<script>
import NavbarLink from "./NavbarLink.vue"
import {ref ,onBeforeUnmount ,onMounted} from 'vue'
export default {
    components : {
      NavbarLink
    },
    setup(){
      const active = ref(false);
      const nav = document.getElementById("nav");
      const dyNav = ref(false);
      function toggle(e){
        active.value = !active.value;
        console.log(nav)
      }
      function close(){
         active.value = false;
      }
  
      document.addEventListener('scroll' , function(){
        if(window.scrollY > 85){
          dyNav.value = true ;
        }else{
          dyNav.value = false ;
        }
      })

      // onMounted(() => {
      //   let dropdown_selector = document.querySelector('.navbar_menu-toggle');
      //   document.addEventListener('click', function(e){
      //      console.log(dropdown_selector.children)
      //   })
      // })
      return {
         active,
        toggle ,
        dyNav
        // useToggle , 
        // toggleMenu
      }
    }

}
</script>

<style>

</style>